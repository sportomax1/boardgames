<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>üéØ First Player Selector</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #fff;
            min-height: 100vh;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
            padding-top: max(env(safe-area-inset-top), 20px);
            padding-bottom: max(env(safe-area-inset-bottom), 20px);
            padding-left: max(env(safe-area-inset-left), 20px);
            padding-right: max(env(safe-area-inset-right), 20px);
            overflow-x: hidden;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            max-width: 100%;
            width: 100%;
            margin: 0 auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .app-title {
            text-align: center;
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #1e40af;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .method-selector {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .method-button {
            background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
            color: #fff;
            border: none;
            border-radius: 15px;
            padding: 18px 20px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            width: 100%;
            min-height: 60px;
        }

        .method-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(25, 118, 210, 0.4);
        }

        .method-button.active {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }

        .method-content {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }

        .method-content.active {
            display: block;
        }

        /* Spinner Styles */
        .spinner-container {
            position: relative;
            width: min(300px, 90vw);
            height: min(300px, 90vw);
            margin: 0 auto 20px;
            touch-action: manipulation;
        }

        .spinner-circle {
            width: 100%;
            height: 100%;
            border: 6px solid #374151;
            border-radius: 50%;
            position: relative;
            background: radial-gradient(circle, #1f2937 0%, #111827 100%);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        .spinner-arrow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 3px;
            height: 40%;
            background: linear-gradient(180deg, #ef4444 0%, #dc2626 100%);
            transform-origin: bottom center;
            transform: translate(-50%, -100%);
            border-radius: 2px 2px 0 0;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(239, 68, 68, 0.5);
        }

        .spinner-arrow::after {
            content: '';
            position: absolute;
            top: -6px;
            left: -6px;
            width: 0;
            height: 0;
            border-left: 7px solid transparent;
            border-right: 7px solid transparent;
            border-bottom: 12px solid #ef4444;
        }

        .spinner-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 16px;
            height: 16px;
            background: #374151;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            border: 2px solid #6b7280;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .player-positions {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .player-position {
            position: absolute;
            width: 35px;
            height: 35px;
            background: #1e40af;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            border: 2px solid #1d4ed8;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 8px rgba(30, 64, 175, 0.3);
            transition: all 0.3s ease;
        }

        .player-position.winner {
            background: #10b981;
            border-color: #059669;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        /* Player Count Input */
        .player-count-input {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .player-count-input label {
            font-size: 1.1em;
            font-weight: 600;
        }

        .player-count-input input {
            width: 80px;
            padding: 12px;
            border: 2px solid #374151;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.2em;
            text-align: center;
            -webkit-appearance: none;
            appearance: none;
        }

        .player-count-input input:focus {
            outline: none;
            border-color: #1e40af;
        }

        /* Action Buttons */
        .action-button {
            width: 100%;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 18px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            min-height: 60px;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .action-button:disabled {
            background: #374151;
            cursor: not-allowed;
            transform: none;
        }

        /* Result Display */
        .result {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 20px;
            padding: 15px;
            background: rgba(16, 185, 129, 0.2);
            border-radius: 15px;
            border: 2px solid #10b981;
            display: none;
        }

        .result.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Random Prompts */
        .prompt-display {
            text-align: center;
            font-size: 1.4em;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            background: rgba(30, 64, 175, 0.2);
            border-radius: 15px;
            border: 2px solid #1e40af;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Directional Result */
        .direction-result {
            text-align: center;
            margin-top: 20px;
        }

        .direction-arrow {
            font-size: 3em;
            margin: 10px 0;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Touch Screen Method */
        .touch-instructions {
            text-align: center;
            margin-bottom: 20px;
        }

        .touch-instructions h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #1e40af;
        }

        .touch-instructions p {
            font-size: 1em;
            color: #9ca3af;
            margin: 0;
        }

        .touch-area {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            border: none;
            border-radius: 0;
            margin: 0;
            overflow: hidden;
            touch-action: none;
            -webkit-user-select: none;
            user-select: none;
            z-index: 1000;
            display: none;
        }

        .touch-area.active {
            display: block;
        }

        .touch-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5em;
            color: #6b7280;
            pointer-events: none;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }

        .countdown-display {
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 4em;
            font-weight: bold;
            color: #ef4444;
            display: none;
            pointer-events: none;
            text-shadow: 0 0 20px rgba(239, 68, 68, 0.8);
        }

        .start-flag {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5em;
            font-weight: bold;
            color: #10b981;
            display: none;
            pointer-events: none;
            text-shadow: 0 0 30px rgba(16, 185, 129, 0.8);
            animation: startFlag 2s ease-in-out;
            z-index: 1000;
        }

        @keyframes startFlag {
            0% { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.5); 
                color: #ef4444;
            }
            25% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.2); 
                color: #f59e0b;
            }
            50% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1); 
                color: #10b981;
            }
            75% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.1); 
                color: #10b981;
                text-shadow: 0 0 40px rgba(16, 185, 129, 1);
            }
            100% { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.8); 
                color: #10b981;
            }
        }

        .touch-point {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 4px solid white;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.4em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            animation: touchPulse 2s infinite;
            pointer-events: none;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }

        .touch-point.eliminated {
            animation: eliminationExplosion 1.5s forwards;
        }

        .touch-point.winner {
            animation: winnerPulse 2s infinite;
            border-color: #fbbf24;
            box-shadow: 0 0 30px rgba(251, 191, 36, 0.8);
        }

        .explosion {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            animation: explode 1s forwards;
        }

        .explosion-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ef4444;
        }

        .close-button {
            position: absolute;
            top: env(safe-area-inset-top, 20px);
            right: env(safe-area-inset-right, 20px);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes touchPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes eliminationExplosion {
            0% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1) rotate(0deg); 
                filter: brightness(1);
            }
            50% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.5) rotate(180deg); 
                filter: brightness(2) hue-rotate(90deg);
            }
            100% { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.3) rotate(360deg); 
                filter: brightness(0);
            }
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0);
            }
            50% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(2);
            }
        }

        @keyframes particleExplode {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.3);
                left: var(--endX);
                top: var(--endY);
            }
        }

        @keyframes winnerPulse {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1); 
                box-shadow: 0 0 30px rgba(251, 191, 36, 0.8); 
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.3); 
                box-shadow: 0 0 50px rgba(251, 191, 36, 1); 
            }
        }

        /* Color Picker Method */
        .color-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            padding: env(safe-area-inset-top, 40px) env(safe-area-inset-right, 40px) env(safe-area-inset-bottom, 40px) env(safe-area-inset-left, 40px);
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            z-index: 1000;
            display: none;
            align-content: center;
        }

        .color-grid.active {
            display: grid;
        }

        .color-option {
            aspect-ratio: 1;
            border-radius: 20px;
            border: 6px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 80px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            touch-action: manipulation;
        }

        .color-option:hover {
            transform: scale(1.05);
            border-color: white;
            box-shadow: 0 6px 30px rgba(255, 255, 255, 0.2);
        }

        .color-option.selected {
            border-color: #fbbf24;
            transform: scale(1.15);
            box-shadow: 0 0 40px rgba(251, 191, 36, 0.8);
        }

        .color-option.winner {
            animation: colorWinner 2s infinite;
        }

        .color-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            text-align: center;
            padding: 8px;
            font-size: 1em;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .color-close-button {
            position: absolute;
            top: env(safe-area-inset-top, 20px);
            right: env(safe-area-inset-right, 20px);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.8em;
            cursor: pointer;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 3px solid rgba(255, 255, 255, 0.3);
            touch-action: manipulation;
        }

        .color-instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            z-index: 999;
            pointer-events: none;
        }

        @keyframes colorWinner {
            0%, 100% { transform: scale(1.1); box-shadow: 0 0 20px rgba(251, 191, 36, 0.5); }
            50% { transform: scale(1.2); box-shadow: 0 0 30px rgba(251, 191, 36, 1); }
        }

        /* iPhone and mobile optimizations */
        @media screen and (max-width: 414px) {
            .app-title {
                font-size: 1.8em;
                margin-bottom: 15px;
            }
            
            .method-content {
                padding: 20px 15px;
                margin-bottom: 15px;
            }
            
            .spinner-container {
                width: min(280px, 85vw);
                height: min(280px, 85vw);
                margin-bottom: 15px;
            }
            
            .player-position {
                width: 30px;
                height: 30px;
                font-size: 1em;
            }
            
            .prompt-display {
                font-size: 1.2em;
                padding: 15px;
                min-height: 60px;
            }
            
            .direction-arrow {
                font-size: 2.5em;
            }
            
            .touch-area {
                width: 100vw;
                height: 100vh;
            }
            
            .touch-point {
                width: 70px;
                height: 70px;
                font-size: 1.2em;
            }
            
            .countdown-display {
                font-size: 3.5em;
                top: 25%;
            }
            
            .touch-message {
                font-size: 1.3em;
                max-width: 80%;
            }
            
            .color-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 10px;
            }
            
            .color-option {
                min-height: 45px;
            }
            
            .color-label {
                font-size: 0.7em;
                padding: 3px;
            }
        }

        @media screen and (max-height: 700px) {
            .container {
                padding: 5px;
            }
            
            .app-title {
                font-size: 1.6em;
                margin-bottom: 10px;
            }
            
            .method-content {
                padding: 15px 10px;
            }
            
            .spinner-container {
                width: min(250px, 80vw);
                height: min(250px, 80vw);
                margin-bottom: 10px;
            }
            
            .touch-area {
                width: 100vw;
                height: 100vh;
            }
            
            .countdown-display {
                font-size: 3em;
                top: 20%;
            }
            
            .touch-message {
                font-size: 1.1em;
                max-width: 90%;
            }
            
            .touch-instructions h3 {
                font-size: 1.1em;
                margin-bottom: 8px;
            }
            
            .touch-instructions p {
                font-size: 0.9em;
            }
        }

        @media screen and (max-height: 600px) {
            .touch-area {
                width: 100vw;
                height: 100vh;
            }
            
            .countdown-display {
                font-size: 2.5em;
                top: 15%;
            }
            
            .prompt-display {
                min-height: 50px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <button class="back-button" onclick="showMethodSelector()">‚Üê</button>
    
    <div class="container">
        <div class="app-title">üéØ First Player</div>
        
        <!-- Method Selection -->
        <div id="methodSelector" class="method-selector">
            <button class="method-button" onclick="selectMethod('spinner')">üé° Spinner Wheel</button>
            <button class="method-button" onclick="selectMethod('numbered')">üî¢ Number Selection</button>
            <button class="method-button" onclick="selectMethod('prompts')">üé≤ Random Prompts</button>
            <button class="method-button" onclick="selectMethod('quickspin')">‚ö° Quick Spin</button>
            <button class="method-button" onclick="selectMethod('touch')">üëÜ Touch Screen</button>
            <button class="method-button" onclick="selectMethod('colorpicker')">üé® Color Picker</button>
        </div>

        <!-- Spinner Method -->
        <div id="spinnerMethod" class="method-content">
            <div class="player-count-input">
                <label for="spinnerPlayers">Players:</label>
                <input type="number" id="spinnerPlayers" min="2" max="12" value="4">
            </div>
            <div class="spinner-container">
                <div class="spinner-circle">
                    <div id="spinnerArrow" class="spinner-arrow"></div>
                    <div class="spinner-center"></div>
                    <div id="playerPositions" class="player-positions"></div>
                </div>
            </div>
            <button class="action-button" onclick="spinWheel()">üé° SPIN THE WHEEL!</button>
            <div id="spinnerResult" class="result"></div>
        </div>

        <!-- Numbered Method -->
        <div id="numberedMethod" class="method-content">
            <div class="player-count-input">
                <label for="numberedPlayers">Players:</label>
                <input type="number" id="numberedPlayers" min="2" max="12" value="4">
            </div>
            <button class="action-button" onclick="selectRandomPlayer()">üî¢ PICK RANDOM PLAYER</button>
            <div id="numberedResult" class="result"></div>
        </div>

        <!-- Random Prompts Method -->
        <div id="promptsMethod" class="method-content">
            <div class="prompt-display" id="promptDisplay">
                Click the button below to get a random first player prompt!
            </div>
            <button class="action-button" onclick="generatePrompt()">üé≤ GENERATE PROMPT</button>
        </div>

        <!-- Quick Spin Method -->
        <div id="quickspinMethod" class="method-content">
            <div class="direction-result">
                <div class="prompt-display">Point your device at the group and spin!</div>
                <div class="direction-arrow" id="directionArrow">üß≠</div>
                <button class="action-button" onclick="quickSpin()">‚ö° QUICK SPIN</button>
                <div id="quickSpinResult" class="result"></div>
            </div>
        </div>

        <!-- Touch Screen Method -->
        <div id="touchMethod" class="method-content">
            <div class="touch-instructions">
                <h3>üñêÔ∏è All players place finger on screen</h3>
                <p>Each touch will get a different color. Last player remaining wins!</p>
                <p>Game starts automatically when you begin!</p>
            </div>
            <button class="action-button" id="touchStartBtn" onclick="startTouchGame()">üëÜ START TOUCH GAME</button>
            <div id="touchResult" class="result"></div>
        </div>

        <!-- Full Screen Touch Area -->
        <div class="touch-area" id="touchArea">
            <button class="close-button" onclick="exitTouchGame()">√ó</button>
            <div class="touch-message" id="touchMessage">Place all fingers on screen to begin...</div>
            <div class="countdown-display" id="countdownDisplay"></div>
            <div class="start-flag" id="startFlag">üèÅ START!</div>
        </div>

        <!-- Color Picker Method -->
        <div id="colorpickerMethod" class="method-content">
            <div class="touch-instructions">
                <h3>üé® Choose your color</h3>
                <p>Tap any color to select, or pick random for surprise!</p>
            </div>
            <button class="action-button" onclick="showColorGrid()">üé® SHOW COLORS</button>
            <button class="action-button" onclick="pickRandomColor()">ÔøΩ PICK RANDOM COLOR</button>
            <div id="colorResult" class="result"></div>
        </div>

        <!-- Full Screen Color Grid -->
        <div class="color-grid" id="colorGrid">
            <button class="color-close-button" onclick="hideColorGrid()">√ó</button>
            <div class="color-instructions">Tap a color to choose!</div>
        </div>
    </div>

    <script>
        let currentMethod = null;
        let isSpinning = false;
        
        // Touch game variables
        let touchGame = {
            active: false,
            touches: new Map(),
            colors: ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#6366f1'],
            colorIndex: 0,
            eliminationTimer: null,
            countdownTimer: null,
            eliminationPhase: false,
            initiationStarted: false
        };

        // Color picker global variables
        let selectedColors = [];
        let colorPlayerData = [];

        function showColorGrid() {
            document.getElementById('colorGrid').style.display = 'flex';
        }

        function hideColorGrid() {
            document.getElementById('colorGrid').style.display = 'none';
        }

        // Color picker colors with names
        const colorOptions = [
            { color: '#ef4444', name: 'Red' },
            { color: '#3b82f6', name: 'Blue' },
            { color: '#10b981', name: 'Green' },
            { color: '#f59e0b', name: 'Yellow' },
            { color: '#8b5cf6', name: 'Purple' },
            { color: '#ec4899', name: 'Pink' },
            { color: '#06b6d4', name: 'Cyan' },
            { color: '#84cc16', name: 'Lime' },
            { color: '#f97316', name: 'Orange' },
            { color: '#6366f1', name: 'Indigo' }
        ];

        // Random prompts for first player selection
        const firstPlayerPrompts = [
            "First to arrive at the table",
            "Last to arrive at the table", 
            "Oldest player",
            "Youngest player",
            "Tallest player",
            "Shortest player",
            "Player wearing the most blue",
            "Player wearing the most red",
            "Player with the longest hair",
            "Player with the shortest hair",
            "Player who woke up earliest today",
            "Player who went to bed latest last night",
            "Player with the most pets",
            "Player with the most siblings",
            "Player who lives closest to here",
            "Player who lives farthest from here",
            "Player with the next birthday",
            "Player who had the most recent birthday",
            "Player with the most board games",
            "Player who has traveled to the most countries",
            "Player with the most letters in their first name",
            "Player with the fewest letters in their first name",
            "Player who can whistle the loudest",
            "Player who can count to 10 in the most languages",
            "Player with the most unusual hobby",
            "Player who has met the most famous people",
            "Player with the most apps on their phone",
            "Player who drinks the most coffee",
            "Player who exercises the most",
            "Player with the messiest desk/room",
            "Player who laughs the most",
            "Player with the best poker face",
            "Player who has read the most books this year",
            "Player who has watched the most movies this month",
            "Player with the most interesting job",
            "Player who can do the best animal impression",
            "Player who has eaten the most unusual food",
            "Player with the most colorful socks",
            "Player who has been awake the longest today",
            "Player who ate breakfast first this morning",
            "Player with the cleanest car",
            "Player who checks their phone the most",
            "Player with the most photos on their phone",
            "Player who has changed their hairstyle most recently",
            "Player wearing the most comfortable shoes",
            "Player who has the most houseplants",
            "Player who can touch their toes",
            "Player who remembers the most phone numbers",
            "Player who has visited the most museums",
            "Player with the strongest grip",
            "Player who can balance on one foot the longest",
            "Player who has the most stamps in their passport",
            "Player who owns the most shoes",
            "Player who has broken the most bones",
            "Player with the best handwriting",
            "Player who has the most tattoos",
            "Player who can speak the most languages",
            "Player who has been to the most concerts",
            "Player with the most unusual fear",
            "Player who has the most keys on their keychain",
            "Player who drinks the most water daily",
            "Player with the smallest hands",
            "Player with the biggest feet",
            "Player who has moved the most times",
            "Player who knows the most song lyrics by heart",
            "Player with the most expensive hobby",
            "Player who has stayed up the latest",
            "Player who takes the longest showers",
            "Player with the most creative Halloween costume",
            "Player who has eaten at the most restaurants",
            "Player with the most unusual talent",
            "Player who has the most credit cards",
            "Player who has been in the most time zones",
            "Player with the best memory for faces",
            "Player who has the most scars",
            "Player with the most organized workspace",
            "Player who has watched the most TV shows",
            "Player with the most unread emails",
            "Player who has the most social media followers",
            "Player with the loudest sneeze",
            "Player who has the most kitchen gadgets",
            "Player with the best sense of direction",
            "Player who has lost the most items",
            "Player with the most unusual middle name",
            "Player who has the most board game wins",
            "Player with the fastest typing speed",
            "Player who has eaten the spiciest food",
            "Player with the most parking tickets",
            "Player who has the most browser bookmarks",
            "Player with the best dance moves",
            "Player who has the most magazine subscriptions",
            "Player with the most unusual allergy",
            "Player who has climbed the highest mountain",
            "Player with the most charitable donations this year",
            "Player who has the most coffee mugs",
            "Player with the best joke-telling ability",
            "Player who has been to the most weddings",
            "Player with the most interesting scar story",
            "Player who has the most streaming service subscriptions",
            "Player with the best karaoke song",
            "Player who has read the thickest book",
            "Player with the most unusual pet story"
        ];

        function selectMethod(method) {
            // Hide all method contents
            document.querySelectorAll('.method-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Hide method selector
            document.getElementById('methodSelector').style.display = 'none';
            
            // Show selected method
            document.getElementById(method + 'Method').classList.add('active');
            currentMethod = method;
            
            // Initialize method-specific setup
            if (method === 'spinner') {
                setupSpinner();
            } else if (method === 'touch') {
                setupTouchGame();
                // Auto-start touch game immediately
                startTouchGame();
            } else if (method === 'colorpicker') {
                setupColorPicker();
            }
        }

        function showMethodSelector() {
            // Show method selector
            document.getElementById('methodSelector').style.display = 'flex';
            
            // Hide all method contents
            document.querySelectorAll('.method-content').forEach(content => {
                content.classList.remove('active');
            });
            
            currentMethod = null;
        }

        function setupSpinner() {
            const playerCount = parseInt(document.getElementById('spinnerPlayers').value);
            updatePlayerPositions(playerCount);
        }

        function updatePlayerPositions(playerCount) {
            const container = document.getElementById('playerPositions');
            container.innerHTML = '';
            
            const containerRect = document.querySelector('.spinner-circle');
            const containerSize = containerRect.offsetWidth;
            const radius = (containerSize / 2) - 35; // Subtract player circle size
            const centerX = containerSize / 2;
            const centerY = containerSize / 2;
            
            for (let i = 0; i < playerCount; i++) {
                // Start at bottom (90 degrees) for player 1 (YOU), then go counterclockwise
                const angle = 90 - (i * 360 / playerCount);
                const radian = angle * Math.PI / 180;
                const x = centerX + radius * Math.cos(radian);
                const y = centerY + radius * Math.sin(radian);
                
                const position = document.createElement('div');
                position.className = 'player-position';
                position.style.left = x + 'px';
                position.style.top = y + 'px';
                
                // Player 1 is "YOU", others are numbered normally
                if (i === 0) {
                    position.textContent = 'YOU';
                    position.style.fontSize = '0.9em';
                    position.style.fontWeight = 'bold';
                    position.style.background = '#10b981'; // Different color for YOU
                    position.style.borderColor = '#059669';
                } else {
                    position.textContent = i + 1;
                }
                
                position.dataset.player = i + 1;
                position.dataset.angle = angle;
                
                container.appendChild(position);
            }
        }

        function spinWheel() {
            if (isSpinning) return;
            
            isSpinning = true;
            const playerCount = parseInt(document.getElementById('spinnerPlayers').value);
            const arrow = document.getElementById('spinnerArrow');
            const result = document.getElementById('spinnerResult');
            
            // Update positions for current player count
            updatePlayerPositions(playerCount);
            
            // Clear previous results
            result.classList.remove('show');
            document.querySelectorAll('.player-position').forEach(pos => {
                pos.classList.remove('winner');
            });
            
            // Reset arrow transform
            arrow.style.transition = 'none';
            arrow.style.transform = 'translate(-50%, -100%) rotate(0deg)';
            
            // Force a reflow to ensure the reset is applied
            arrow.offsetHeight;
            
            // Calculate target position - ensure we land close to a player
            const segmentAngle = 360 / playerCount;
            const targetPlayerIndex = Math.floor(Math.random() * playerCount);
            const targetAngle = (targetPlayerIndex * segmentAngle) + (segmentAngle / 2) + (Math.random() - 0.5) * (segmentAngle * 0.3);
            
            // Add multiple rotations for dramatic effect (8-12 full rotations)
            const extraRotations = (8 + Math.random() * 4) * 360;
            const finalAngle = extraRotations + targetAngle;
            
            // Apply the spin with custom easing (fast start, slow end)
            setTimeout(() => {
                arrow.style.transition = 'transform 4s cubic-bezier(0.15, 0, 0.2, 1)';
                arrow.style.transform = `translate(-50%, -100%) rotate(${finalAngle}deg)`;
            }, 50);
            
            // Determine winner after spin completes
            setTimeout(() => {
                // Calculate which player is closest to the arrow
                const normalizedAngle = (finalAngle % 360 + 360) % 360;
                
                let closestPlayerIndex = 0;
                let minDistance = Infinity;
                
                for (let i = 0; i < playerCount; i++) {
                    // Calculate player angle (inverted: start at bottom, go left/counterclockwise)
                    const playerAngle = (90 - (i * segmentAngle) + 360) % 360;
                    let distance = Math.abs(normalizedAngle - playerAngle);
                    if (distance > 180) distance = 360 - distance;
                    
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestPlayerIndex = i;
                    }
                }
                
                const winnerPlayer = closestPlayerIndex + 1;
                
                // Highlight winner
                const positions = document.querySelectorAll('.player-position');
                positions[closestPlayerIndex].classList.add('winner');
                
                // Show result with celebration
                if (closestPlayerIndex === 0) {
                    result.innerHTML = `üéâ YOU go first!`;
                } else {
                    result.innerHTML = `üéâ Player ${winnerPlayer} goes first!`;
                }
                result.classList.add('show');
                
                // Add haptic feedback on iPhone
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100]);
                }
                
                isSpinning = false;
            }, 4200);
        }

        function selectRandomPlayer() {
            const playerCount = parseInt(document.getElementById('numberedPlayers').value);
            const result = document.getElementById('numberedResult');
            
            if (playerCount < 2) {
                result.innerHTML = "‚ö†Ô∏è Please enter at least 2 players";
                result.classList.add('show');
                return;
            }
            
            const randomPlayer = Math.floor(Math.random() * playerCount) + 1;
            result.innerHTML = `üéâ Player ${randomPlayer} goes first!`;
            result.classList.add('show');
        }

        function generatePrompt() {
            const promptDisplay = document.getElementById('promptDisplay');
            const randomPrompt = firstPlayerPrompts[Math.floor(Math.random() * firstPlayerPrompts.length)];
            
            promptDisplay.innerHTML = `"${randomPrompt}" goes first!`;
        }

        function quickSpin() {
            const arrow = document.getElementById('directionArrow');
            const result = document.getElementById('quickSpinResult');
            
            // Clear previous result
            result.classList.remove('show');
            
            // Reset rotation
            arrow.style.transition = 'none';
            arrow.style.transform = 'rotate(0deg)';
            arrow.offsetHeight; // Force reflow
            
            // Spin the compass with improved animation
            const baseRotations = 1080 + Math.random() * 720; // 3-5 full rotations
            const randomAngle = Math.random() * 360;
            const finalAngle = baseRotations + randomAngle;
            
            setTimeout(() => {
                arrow.style.transition = 'transform 3s cubic-bezier(0.15, 0, 0.2, 1)';
                arrow.style.transform = `rotate(${finalAngle}deg)`;
            }, 50);
            
            // Show result after spin
            setTimeout(() => {
                const directions = ['‚Üë', '‚Üó', '‚Üí', '‚Üò', '‚Üì', '‚Üô', '‚Üê', '‚Üñ'];
                const directionNames = ['North', 'Northeast', 'East', 'Southeast', 'South', 'Southwest', 'West', 'Northwest'];
                const directionIndex = Math.floor(((finalAngle + 22.5) % 360) / 45);
                const direction = directions[directionIndex];
                const directionName = directionNames[directionIndex];
                
                result.innerHTML = `${direction} ${directionName}<br>This direction goes first!`;
                result.classList.add('show');
                
                // Add haptic feedback
                if (navigator.vibrate) {
                    navigator.vibrate([100]);
                }
            }, 3200);
        }

        // Update player positions when count changes
        document.getElementById('spinnerPlayers').addEventListener('input', function() {
            if (currentMethod === 'spinner') {
                setupSpinner();
            }
        });

        // Touch Game Functions
        function setupTouchGame() {
            resetTouchGame();
        }

        function startTouchGame() {
            const touchArea = document.getElementById('touchArea');
            const result = document.getElementById('touchResult');
            
            // Reset everything
            result.classList.remove('show');
            touchGame.active = true;
            touchGame.touches.clear();
            touchGame.colorIndex = 0;
            
            // Show full screen touch area
            touchArea.classList.add('active');
            document.getElementById('touchMessage').textContent = 'Place all fingers on screen to begin...';
            document.getElementById('countdownDisplay').style.display = 'none';
            
            // Add touch event listeners
            touchArea.addEventListener('touchstart', handleTouchStart, { passive: false });
            touchArea.addEventListener('touchmove', handleTouchMove, { passive: false });
            touchArea.addEventListener('touchend', handleTouchEnd, { passive: false });
            
            // Auto-start initiation countdown when first touch detected
            touchGame.initiationStarted = false;
        }

        function handleTouchStart(e) {
            e.preventDefault();
            if (!touchGame.active) return;
            
            const rect = e.target.getBoundingClientRect();
            
            for (let touch of e.changedTouches) {
                if (!touchGame.touches.has(touch.identifier)) {
                    // Prevent new fingers from joining during elimination phase
                    if (touchGame.eliminationPhase) {
                        return;
                    }
                    
                    const x = touch.clientX - rect.left;
                    const y = touch.clientY - rect.top;
                    const color = touchGame.colors[touchGame.colorIndex % touchGame.colors.length];
                    
                    const touchPoint = document.createElement('div');
                    touchPoint.className = 'touch-point';
                    touchPoint.style.left = x + 'px';
                    touchPoint.style.top = y + 'px';
                    touchPoint.style.backgroundColor = color;
                    touchPoint.textContent = (touchGame.colorIndex + 1);
                    touchPoint.id = `touch-${touch.identifier}`;
                    
                    e.target.appendChild(touchPoint);
                    
                    touchGame.touches.set(touch.identifier, {
                        element: touchPoint,
                        color: color,
                        number: touchGame.colorIndex + 1,
                        x: x,
                        y: y
                    });
                    
                    touchGame.colorIndex++;
                    
                    // Reset countdown when new finger is added (only during initiation phase)
                    if (touchGame.initiationStarted && !touchGame.eliminationPhase) {
                        clearInterval(touchGame.countdownTimer);
                        startInitiationCountdown();
                    }
                }
            }
            
            // Start initiation countdown on first touch
            if (!touchGame.initiationStarted && touchGame.touches.size > 0) {
                touchGame.initiationStarted = true;
                startInitiationCountdown();
            }
            
            // Hide the instruction message when touches start
            const message = document.getElementById('touchMessage');
            if (message && touchGame.touches.size > 0) {
                message.style.display = 'none';
            }
        }

        function handleTouchMove(e) {
            e.preventDefault();
            if (!touchGame.active) return;
            
            const rect = e.target.getBoundingClientRect();
            
            for (let touch of e.changedTouches) {
                const touchData = touchGame.touches.get(touch.identifier);
                if (touchData) {
                    const x = touch.clientX - rect.left;
                    const y = touch.clientY - rect.top;
                    touchData.element.style.left = x + 'px';
                    touchData.element.style.top = y + 'px';
                    touchData.x = x;
                    touchData.y = y;
                }
            }
        }

        function handleTouchEnd(e) {
            e.preventDefault();
            if (!touchGame.active) return;
            
            for (let touch of e.changedTouches) {
                const touchData = touchGame.touches.get(touch.identifier);
                if (touchData) {
                    touchData.element.remove();
                    touchGame.touches.delete(touch.identifier);
                }
            }
            
            // If only one or no touches left during elimination, end the game
            if (touchGame.touches.size <= 1 && touchGame.eliminationPhase) {
                endTouchGame();
            }
        }

        function startInitiationCountdown() {
            const countdownDisplay = document.getElementById('countdownDisplay');
            const message = document.getElementById('touchMessage');
            
            countdownDisplay.style.display = 'block';
            message.textContent = 'Get ready! Elimination starts in...';
            message.style.display = 'block';
            
            let countdown = 3;
            countdownDisplay.textContent = countdown;
            
            touchGame.countdownTimer = setInterval(() => {
                countdown--;
                countdownDisplay.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(touchGame.countdownTimer);
                    countdownDisplay.textContent = 'GO!';
                    message.textContent = 'Keep your fingers on screen!';
                    
                    setTimeout(() => {
                        startEliminationPhase();
                    }, 1000);
                }
            }, 1000);
        }

        function startEliminationPhase() {
            touchGame.eliminationPhase = true;
            
            // Show start flag animation
            const startFlag = document.getElementById('startFlag');
            const countdownDisplay = document.getElementById('countdownDisplay');
            const message = document.getElementById('touchMessage');
            
            startFlag.style.display = 'block';
            countdownDisplay.style.display = 'none';
            message.style.display = 'none';
            
            // Hide start flag after animation completes
            setTimeout(() => {
                startFlag.style.display = 'none';
                message.textContent = 'Elimination phase! Stay on screen!';
                message.style.display = 'block';
                
                if (touchGame.touches.size <= 1) {
                    endTouchGame();
                    return;
                }
                
                startEliminationCountdown();
            }, 2000);
        }

        function startEliminationCountdown() {
            if (touchGame.touches.size <= 1) {
                endTouchGame();
                return;
            }
            
            const countdownDisplay = document.getElementById('countdownDisplay');
            const message = document.getElementById('touchMessage');
            
            countdownDisplay.style.display = 'block';
            message.textContent = `${touchGame.touches.size} players remaining...`;
            message.style.display = 'block';
            
            let countdown = 1;
            countdownDisplay.textContent = countdown;
            
            touchGame.countdownTimer = setInterval(() => {
                countdown--;
                countdownDisplay.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(touchGame.countdownTimer);
                    eliminateRandomPlayer();
                }
            }, 1000);
        }

        function eliminateRandomPlayer() {
            const activeTouches = Array.from(touchGame.touches.values());
            if (activeTouches.length <= 1) {
                endTouchGame();
                return;
            }
            
            // Remove random player
            const randomIndex = Math.floor(Math.random() * activeTouches.length);
            const eliminatedTouch = activeTouches[randomIndex];
            
            // Create explosion effect
            createExplosion(eliminatedTouch.x, eliminatedTouch.y, eliminatedTouch.color);
            
            // Eliminate the touch point
            eliminatedTouch.element.classList.add('eliminated');
            
            // Remove from active touches
            for (let [id, touch] of touchGame.touches) {
                if (touch === eliminatedTouch) {
                    touchGame.touches.delete(id);
                    break;
                }
            }
            
            // Add haptic feedback
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200]);
            }
            
            // Continue elimination after 1.5 seconds
            setTimeout(() => {
                eliminatedTouch.element.remove();
                
                if (touchGame.touches.size > 1) {
                    startEliminationCountdown();
                } else {
                    endTouchGame();
                }
            }, 1500);
        }

        function createExplosion(x, y, color) {
            const touchArea = document.getElementById('touchArea');
            
            // Create main explosion circle
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.style.left = x + 'px';
            explosion.style.top = y + 'px';
            explosion.style.background = `radial-gradient(circle, ${color} 0%, transparent 70%)`;
            touchArea.appendChild(explosion);
            
            // Create particle effects
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.className = 'explosion-particle';
                particle.style.backgroundColor = color;
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                const angle = (i * 30) * Math.PI / 180;
                const distance = 60 + Math.random() * 40;
                const endX = x + Math.cos(angle) * distance;
                const endY = y + Math.sin(angle) * distance;
                
                particle.style.animation = `particleExplode 1s forwards`;
                particle.style.setProperty('--endX', endX + 'px');
                particle.style.setProperty('--endY', endY + 'px');
                
                touchArea.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
            
            setTimeout(() => explosion.remove(), 1000);
        }

        function endTouchGame() {
            touchGame.active = false;
            touchGame.eliminationPhase = false;
            touchGame.initiationStarted = false;
            clearInterval(touchGame.eliminationTimer);
            clearInterval(touchGame.countdownTimer);
            
            const countdownDisplay = document.getElementById('countdownDisplay');
            const message = document.getElementById('touchMessage');
            countdownDisplay.style.display = 'none';
            
            const activeTouches = Array.from(touchGame.touches.values());
            
            if (activeTouches.length === 1) {
                const winner = activeTouches[0];
                winner.element.classList.add('winner');
                message.textContent = `üéâ Player ${winner.number} WINS!`;
                message.style.color = winner.color;
                message.style.display = 'block';
                
                // Add haptic feedback for winner
                if (navigator.vibrate) {
                    navigator.vibrate([300, 150, 300, 150, 300]);
                }
                
                // Auto-exit after 3 seconds
                setTimeout(() => {
                    exitTouchGame();
                }, 3000);
            } else if (activeTouches.length === 0) {
                message.textContent = `ü§∑ No players remaining!`;
                message.style.color = '#fff';
                message.style.display = 'block';
                
                setTimeout(() => {
                    exitTouchGame();
                }, 2000);
            } else {
                message.textContent = `üéâ ${activeTouches.length} players tied!`;
                message.style.color = '#fff';
                message.style.display = 'block';
                
                setTimeout(() => {
                    exitTouchGame();
                }, 3000);
            }
        }

        function exitTouchGame() {
            const touchArea = document.getElementById('touchArea');
            const result = document.getElementById('touchResult');
            
            // Hide full screen area
            touchArea.classList.remove('active');
            
            // Remove event listeners
            touchArea.removeEventListener('touchstart', handleTouchStart);
            touchArea.removeEventListener('touchmove', handleTouchMove);
            touchArea.removeEventListener('touchend', handleTouchEnd);
            
            // Clear touches and timers
            resetTouchGame();
            
            // Show result in the method view
            const activeTouches = Array.from(touchGame.touches.values());
            if (activeTouches.length === 1) {
                const winner = activeTouches[0];
                result.innerHTML = `üéâ Player ${winner.number} (${winner.color}) goes first!`;
                result.style.color = winner.color;
                result.classList.add('show');
            }
        }

        function resetTouchGame() {
            touchGame.active = false;
            touchGame.eliminationPhase = false;
            touchGame.initiationStarted = false;
            touchGame.touches.clear();
            touchGame.colorIndex = 0;
            clearInterval(touchGame.eliminationTimer);
            clearInterval(touchGame.countdownTimer);
            
            const touchArea = document.getElementById('touchArea');
            const result = document.getElementById('touchResult');
            
            // Clear touch area
            touchArea.innerHTML = `
                <button class="close-button" onclick="exitTouchGame()">√ó</button>
                <div class="touch-message" id="touchMessage">Place all fingers on screen to begin...</div>
                <div class="countdown-display" id="countdownDisplay"></div>
                <div class="start-flag" id="startFlag">üèÅ START!</div>
            `;
            
            result.classList.remove('show');
        }

        // Color Picker Functions
        function setupColorPicker() {
            const colorGrid = document.getElementById('colorGrid');
            colorGrid.innerHTML = '';
            
            colorOptions.forEach((colorOption, index) => {
                const colorDiv = document.createElement('div');
                colorDiv.className = 'color-option';
                colorDiv.style.backgroundColor = colorOption.color;
                colorDiv.innerHTML = `<div class="color-label">${colorOption.name}</div>`;
                colorDiv.onclick = () => selectColor(index);
                colorGrid.appendChild(colorDiv);
            });
        }

        function selectColor(index) {
            const result = document.getElementById('colorResult');
            const selectedColor = colorOptions[index];
            
            // Clear previous selections
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('selected', 'winner');
            });
            
            // Highlight selected color
            document.querySelectorAll('.color-option')[index].classList.add('selected');
            
            result.innerHTML = `üé® ${selectedColor.name} player goes first!`;
            result.style.color = selectedColor.color;
            result.classList.add('show');
        }

        function pickRandomColor() {
            const randomIndex = Math.floor(Math.random() * colorOptions.length);
            const selectedColor = colorOptions[randomIndex];
            const result = document.getElementById('colorResult');
            
            // Clear previous selections
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('selected', 'winner');
            });
            
            // Animate selection
            const colorOptions_dom = document.querySelectorAll('.color-option');
            let currentIndex = 0;
            
            const selectionInterval = setInterval(() => {
                // Clear previous highlight
                colorOptions_dom.forEach(option => option.classList.remove('selected'));
                
                // Highlight current
                colorOptions_dom[currentIndex].classList.add('selected');
                currentIndex = (currentIndex + 1) % colorOptions_dom.length;
            }, 100);
            
            // Stop on random color after 2 seconds
            setTimeout(() => {
                clearInterval(selectionInterval);
                
                // Clear all and select final
                colorOptions_dom.forEach(option => option.classList.remove('selected'));
                colorOptions_dom[randomIndex].classList.add('winner');
                
                result.innerHTML = `üéâ ${selectedColor.name} player goes first!`;
                result.style.color = selectedColor.color;
                result.classList.add('show');
                
                // Add haptic feedback
                if (navigator.vibrate) {
                    navigator.vibrate([200, 100, 200]);
                }
            }, 2000);
        }
    </script>
</body>
</html>